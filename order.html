<!DOCTYPE html>

<html lang="en">

  <head>
%include _head.html

    <title>Movie Rentals</title>
  </head>

  <body>

    <header>

      <strong>Movie Rentals</strong>

    </header>

    <div id="main">

      <article>

        <h1 style="text-align: centre">Payment Details</h1>

        <div style="background-color: lightgrey; width: 70%; margin: auto; padding: 2em">

          <form method="GET" action="/invoice.html" onsubmit="storeData()">
            <div class="form-group">
              <span>Title:</span>
              <input class="form-control" type="text" id="title" />
              <span>First Name:</span>
              <input class="form-control" type="text" id="firstName" />
              <span>Surname:</span>
              <input class="form-control" type="text" id="surname" />
            <div class="form-group">
              <span>Number:</span>
              <input class="form-control" type="text" id="addressNumber" />
              <span>Street:</span>
              <input class="form-control" type="text" id="addressStreet" />
              <span>Country:</span>
              <input class="form-control" type="text" id="addressCountry" />
            </div>
            <div class="form-group">
              <span>Postcode:</span>
              <input class="form-control" type="text" id="addressPostcode" />
              <span>City:</span>
              <input class="form-control" type="text" id="addressCity" />
            </div>

            <hr />
            <div class="form-group">

              <span>Card Type:</span>

              <input type="radio" name="card" value="visa" id="visa" checked />

              <label for="visa">Visa</label>

              <input type="radio" name="card" value="solo" id="solo" />

              <label for="solo">Solo</label>

              <input type="radio" name="card" value="mastercard" id="mastercard" />

              <label for="mastercard">Mastercard</label>

              <input type="radio" name="card" value="switch" id="switch" />

              <label for="switch">Switch</label>
            </div>
            <div class="form-group"></div>
              <span>Card Number:</span>
              <input class="form-control" type="number" id="cardNumber"/>
              <span>Expiry Date:</span>
              <input class="form-control" type="text" id="expiryMonth" />
              <span>Security Code:</span>
              <input class="form-control" type="text" id="expiryYear"/>
            <div>
              <button class="btn btn-secondary" type="button" onclick="window.location.href='/shop.html'">Cancel</a>
              <button class="btn btn-primary" type="submit">Proceed</button>
            </div>

          </form>

        </div>

      </article>

    </div>

  </body>



  <script>



    function storeData() {

      // Collect all form data for use in the invoice

      const formInputs = ["title", "firstName", "surname", "addressNumber", "addressStreet", "addressPostcode", "addressCountry", "addressCity", "cardNumber", "expiryMonth", "expiryYear"];

      const formData = {};

      formInputs.forEach((inputId) => {

        formData[inputId] = document.getElementById(inputId).value;

      })

      formData.card = document.querySelector("input[name=card]:checked").value;

      

      localStorage.setItem("paymentDetails", JSON.stringify(formData));



      return false;

    }

  </script>

</html>

